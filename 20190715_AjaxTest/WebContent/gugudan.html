<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!-- Ajax 지원함수를 사용하기 위한 설정 -->
<script type="text/javascript"  src="js/httpRequest.js"></script>

<script type="text/javascript">

   var regular_dan = /^[2-9]{1}$/;
   function send(){
	   var dan = document.getElementById("dan").value;
	  
	   //유효성 체크
	   if(regular_dan.test(dan)==false){
		   alert('2~9사이의 정수만 입력하세요');
		   document.getElementById("dan").value='';
		   document.getElementById("dan").focus();
		   return;
	   }
	   
	   var url   = "gugudan_maker.jsp"; // gugudan_marker.jsp?dan=5
	   var param = "dan=" + dan;
	   
	   //Ajax요청
	   sendRequest(url,param,resultFn,"GET");
   }
   function resultFn(){
	   console.log("readyState="+xhr.readyState+ " status="+xhr.status);
	   //요청정보가 정상처리
	   if(xhr.redayState=4 && xhr.status==200){
		   var data =xhr.responseText;
		   //alert(data);
		   //서버가 넘겨준 데이터 div에 출력
		   document.getElementById("disp").innerHTML =data;
	   }
   }
</script>
</head>
<body>

  단:<input id="dan">
     <input type="button"  value="계산해줘" onclick="send();">

  <hr>
  
  <div id="disp"></div>

</body>
</html>